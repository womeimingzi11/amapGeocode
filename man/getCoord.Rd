% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getCoord.R
\name{getCoord}
\alias{getCoord}
\title{Get coordinate from location}
\usage{
getCoord(
  address,
  key = NULL,
  city = NULL,
  sig = NULL,
  output = "data.table",
  callback = NULL,
  keep_bad_request = TRUE,
  mode = c("best", "all"),
  batch = FALSE,
  ...
)
}
\arguments{
\item{address}{Required. Structured address information. Rules: Country/Region,
Province/State, City, County/District, Town, Country, Road, Number, Room,
Building.}

\item{key}{Optional. AutoNavi API key. You can also set it globally via
\code{options(amap_key = "your-key")}.}

\item{city}{Optional city hint to narrow the search scope. Supports Chinese
names, full pinyin, citycode, or adcode
(\url{https://lbs.amap.com/api/webservice/download}).}

\item{sig}{Optional digital signature supplied manually. Most workflows can
enable automatic signing via \code{with_amap_signature()} or
\code{amap_config()}.}

\item{output}{Optional output data structure. Supports \code{"data.table"},
\code{"JSON"}, and \code{"XML"}. The default value is \code{"data.table"}.}

\item{callback}{Optional JSONP callback function. Only applies when
\code{output = "JSON"}.}

\item{keep_bad_request}{Optional. When \code{TRUE}, API errors are converted
into placeholder rows so that batched workflows continue.}

\item{mode}{Optional. Controls how candidates are returned. Use \code{"best"}
(the default) to keep the highest ranked candidate for each query or
\code{"all"} to return every match alongside ranking metadata.}

\item{batch}{Optional. When \code{TRUE}, requests are chunked into groups of
ten addresses using the API's batch mode while preserving input order.}

\item{...}{Optional arguments retained for forward compatibility.}
}
\value{
A JSON, XML, or \code{data.table} representation of the geocode results. When
\code{output = "data.table"}, the return value preserves the input order,
provides optional multi-match metadata, and carries any rate-limit headers
via a \code{rate_limit} attribute.
}
\description{
Get coordinate from location
}
\examples{
\dontrun{
# Before calling getCoord(), set the key via options(amap_key = 'KEY')

# Get geocode as a data.table
getCoord("IFS Chengdu")

# Return all candidates
getCoord("IFS Chengdu", mode = "all")

# Batch up to ten requests
a <- rep("IFS Chengdu", 10)
getCoord(a, batch = TRUE)

# Get geocode as XML
getCoord("IFS Chengdu", output = "XML")
}
}
\seealso{
\code{\link{extractCoord}}
}
